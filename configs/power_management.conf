# FGCom-mumble Power Management Configuration
# This file configures the advanced power management system

[power_management]
# Enable automatic power limiting for safety
enable_automatic_power_limiting = true

# Enable power efficiency optimization
enable_efficiency_optimization = true

# Enable regulatory compliance checking
enable_regulatory_compliance = true

# Enable thermal protection
enable_thermal_protection = true

# Enable SWR protection
enable_swr_protection = true

# Enable battery management
enable_battery_management = true

# Default efficiency threshold (0.0-1.0)
default_efficiency_threshold = 0.7

# Thermal shutdown threshold (0.0-1.0, where 1.0 = 100Â°C)
thermal_shutdown_threshold = 0.9

# SWR shutdown threshold
swr_shutdown_threshold = 3.0

# Battery low threshold (0.0-1.0)
battery_low_threshold = 0.2

# Power change delay in milliseconds
power_change_delay_ms = 100

# Enable power change logging
log_power_changes = true

# Enable power analytics
enable_power_analytics = true

[antenna_efficiency]
# Default antenna efficiency data
# Format: antenna_type = efficiency_at_power_levels
# Power levels: 50,100,150,200,250,300,350,400,450,500,550,600,650,700,750,800,850,900,950,1000

# Vertical antenna efficiency
vertical_50w = 0.85
vertical_100w = 0.80
vertical_200w = 0.75
vertical_400w = 0.70
vertical_600w = 0.65
vertical_800w = 0.60
vertical_1000w = 0.55

# Yagi antenna efficiency
yagi_50w = 0.90
yagi_100w = 0.85
yagi_200w = 0.80
yagi_400w = 0.75
yagi_600w = 0.70
yagi_800w = 0.65
yagi_1000w = 0.60

# Loop antenna efficiency
loop_50w = 0.80
loop_100w = 0.75
loop_200w = 0.70
loop_400w = 0.65
loop_600w = 0.60
loop_800w = 0.55
loop_1000w = 0.50

# Whip antenna efficiency
whip_50w = 0.75
whip_100w = 0.70
whip_200w = 0.65
whip_400w = 0.60
whip_600w = 0.55
whip_800w = 0.50
whip_1000w = 0.45

[regulatory_limits]
# Regulatory power limits by frequency band
# Format: band_name = max_power_watts,regulatory_body,license_type,requires_license,power_density_limit

# Amateur radio limits
amateur = 1500.0,FCC,Amateur,true,100.0

# Commercial limits
commercial = 1000.0,FCC,Commercial,true,50.0

# Military limits
military = 2000.0,ITU,Military,true,200.0

# Aviation limits
aviation = 800.0,FAA,Commercial,true,75.0

# Maritime limits
maritime = 600.0,ITU,Commercial,true,60.0

[antenna_limits]
# Antenna-specific power limits
# Format: antenna_type = thermal_limit_watts,swr_limit,max_efficient_power_watts

# Vertical antenna limits
vertical = 800.0,2.0,100.0

# Yagi antenna limits
yagi = 1000.0,1.5,200.0

# Loop antenna limits
loop = 600.0,2.5,150.0

# Whip antenna limits
whip = 400.0,3.0,100.0

[power_optimization]
# Power optimization settings
# Enable automatic power optimization based on distance
enable_distance_optimization = true

# Enable automatic power optimization based on signal quality
enable_quality_optimization = true

# Maximum power reduction for optimization (0.0-1.0)
max_power_reduction = 0.5

# Minimum power level for optimization
min_optimization_power = 50

# Power optimization interval in seconds
optimization_interval = 30

[safety_features]
# Safety feature settings
# Enable emergency power down on critical conditions
enable_emergency_power_down = true

# Enable power limiting on high SWR
enable_swr_power_limiting = true

# Enable power limiting on high temperature
enable_thermal_power_limiting = true

# Enable power limiting on low battery
enable_battery_power_limiting = true

# Maximum power reduction for safety (0.0-1.0)
max_safety_power_reduction = 0.8

[logging]
# Power management logging settings
# Enable detailed power management logging
enable_detailed_logging = true

# Log power efficiency changes
log_efficiency_changes = true

# Log safety events
log_safety_events = true

# Log regulatory compliance violations
log_regulatory_violations = true

# Log power optimization events
log_optimization_events = true
